{% load static %}
<!DOCTYPE html>
<html>
    <head>
        <title>BlogPod</title>
        <link rel="stylesheet" href="{% static 'articles/css/home.css' %}">
        <script src="{% static 'articles/js/script.js' %}"></script>
        <link rel="icon" href="{% static 'home/favicon.ico' %}">
    </head>

<body>
    <div class="page-container">
        <header>
            <div class="logo">
                <a href="{% url 'home' %}">
                    <button class="logo">Blogpod</button>
                </a>
            </div>
            <div class="nav-right">
                <button class="nav-btn" data-target="home">Home</button>
                <button class="nav-btn" data-target="insights">Insights</button>
                <button class="nav-btn" data-target="Builders">Builders</button>
                <button class="nav-btn" data-target="events">Events</button>
            </div>
        </header>

        <main class="section">
            <section class="latest-article" id="homeSection">      
                <div class="latest-article-card">
                    {% if latest_article.image %}
                        <img src="{{ latest_article.image.url }}" alt="article image" class="article-image">
                    {% endif %}
                    <h2 class="article-title">{{ latest_article.title }}</h2>
                    <p class="article-content">{{ latest_article.content|safe }}</p>
                </div>
                
                <div class="other-articles" id="othersSection">
                    <h2>Featured Articles</h2>
                    <div class="scroll-wrapper">
                        <button class="scroll-btn left" data-dir="left">&#10094;</button>

                        <div class="articles-row" id="articlesRow">
                            {% for article in other_articles %}
                                <div class="article-card">
                                    <img src="{{ article.image.url }}" alt="{{ article.title }}">
                                    <h4>{{ article.title }}</h4>
                                    <button class="read-more" onclick="openArticle({{ article.id }})">
                                        View Full Article
                                    </button>
                                </div>
                            {% endfor %}
                        </div>
                        
                        <button class="scroll-btn right" data-dir="right">&#10095;</button>
                    </div>
                </div>
            </section>


            <section class="article-section" id="insightsSection" style="display: none;">
                <div class="articles">
                    {% for article in articles %}
                        <div class="article-card">
                            {% if article.image %}
                                <img src="{{ article.image.url }}" alt="{{ article.title }}">
                            {% else %}
                                <img src="{% static 'articles/default.jpg' %}" alt="no image">
                            {% endif %}
        
                            <h2 class="article-title">{{ article.title }}</h2>

                            <p class="article-preview">
                                {{ article.content|truncatewords:30 }}
                            </p>

                            <button class="read-more" onclick="openArticle({{ article.id }})">
                                Read More
                            </button>
                        </div>
                    {% empty %}
                        <p>No articles found.</p>
                    {% endfor %}
                </div>
            </section>

            <!-- Full page article overlay -->
            {% for article in articles %}
                <div class="article-overlay" id="article-overlay-{{ article.id }}">
                    <div class="overlay-content">
                        <button class="close-btn" onclick="closeArticle({{ article.id }})">&times;</button>
          
                        <h1>{{ article.title }}</h1>
                        {% if article.image %}
                            <img src="{{ article.image.url }}" alt="{{ article.title }}">
                        {% endif %}
                        <pre class="article-text">{{ article.content|linebreaksbr }}</pre>
                    </div>
                </div>
            {% endfor %}

            <section class="section" id="BuildersSection" style="display: none;">
                
            </section>

            <section class="events-section" id="eventsSection" style="display:none;">
                <h2 class="section-title">Upcoming Events</h2>

                <div class="events-container">
                   {% for event in events %}
                       <div class="event-card">
                            {% if event.image %}
                                <div class="event-image">
                                    <img src="{{ event.image.url }}" alt="{{ event.title }}">
                                </div>
                            {% endif %}
                            <div class="event-content">
                                <h3 class="event-title">{{ event.title }}</h3>

                                {% if event.tag %}
                                    <span class="event-tag">{{ event.tag }}</span>
                                {% endif %}

                                <p class="event-description">{{ event.description|linebreaks }}</p>
                            </div>
                        </div>
                    {% empty %}
                        <p class="no-events">No events have been added yet.</p>
                    {% endfor %}
                </div>
            </section>
        </main>  

        <footer class="footer">
            <div class="footer-left">
                <button class="footerlogo">Blockpond</button>
            </div>

            <div class="footer-socials">
                <span>Get In Touch</span>

                <div class="social-links">

                   <a href="https://www.facebook.com/Bonnienduma" class="social-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                            <path d="M22 12a10 10 0 1 0-11.6 9.9v-7h-2v-3h2v-2.3c0-2 1.2-3.1 3-3.1.9 0 1.8.1 1.8.1v2h-1c-1 0-1.3.6-1.3 1.2V12h2.2l-.4 3h-1.8v7A10 10 0 0 0 22 12z"/>
                        </svg>
                        FB
                    </a>

                    <a href="https://x.com/Bonnienduma" class="social-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                            <path d="M19.6 3H4.4C3.6 3 3 3.6 3 4.4v15.2C3 20.4 3.6 21 4.4 21h15.2c.8 0 1.4-.6 1.4-1.4V4.4c0-.8-.6-1.4-1.4-1.4zM17 17h-2.1l-2.8-3.6-3.2 3.6H7l4.2-4.8L7.3 7h2.1l2.5 3.2 2.9-3.2h2L13.4 12 17 17z"/>
                        </svg>
                        X
                    </a>

                    <a href="https://mail.google.com/mail/?view=cm&fs=1&to=bnduma@gmail.com" target="_blank" rel="noopener" class="social-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                            <path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"/>
                        </svg>
                        Gmail
                    </a> 
                </div>

            </div>

            <div class="footer-bottom">
                <p>&copy;2025 BLOGPOD</p>
            </div>
        </footer>
    </div>    

    <script src="script.js"></script>
    
</body>
    
</html>

     